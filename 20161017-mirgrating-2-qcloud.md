# 上云连载：一堵墙引发的回国之路

slug: migrate-to-qcloud-intro
keywords: 服务器回迁, Python 网站开发, 阿里云降价, 腾讯云 CVM, 腾讯云 CDN, 编程派

***

最近把服务器迁回了国内，并且用上了 CDN，不知道大家访问[「编程派」](http://codingpy.com)是否感觉不那么慢了呢。（阅读原文，感受一下吧）

## 为什么回迁？

「编程派」是我自己开发、运营、维护的第一个网站，于去年 11 月初上线，很快就要满一年的时间了。当时服务器选择的是国外云服务商 DigitalOcean 的 VPS ，主要到考虑的是价格因素和翻墙的便利。但是从后来的读者反馈来看，这可能不是很好的选择。

![去年 11 月 4 日，更新第一篇文章后发的微博](http://ww4.sinaimg.cn/large/801b780agw1f8v792iao3j20x60kuwj0.jpg)
<small>去年 11 月 4 日，更新第一篇文章后发的微博。</small>

由于我经常在网站上发布一些国外技术教程的翻译，每天访问网站的人数还是不少的。但是因为服务器在国外，时不时会出现网站打不开的情况，更常见的应该是网站加载时间长、速度慢。很多人通过微信公众号或者微博，都向我反馈过类似的问题。甚至有人在网站留言说，现在上编程派都需要先翻墙了。

因此，趁着换工作这段空闲期，启动了回迁服务器的工作，并于上周五左右大致完成。中间还犯了蛮多小错误，如果期间有人碰到网站无法访问或者只看到 Nignx 默认页面的话，那个时候我应该正在郁闷中。。。

## 国内云服务选择

国内云服务商中，老大是阿里云，然后是腾讯云。回迁后使用哪个服务器，主要是在这两家之间选择。阿里云之前网站备案的时候买过一个服务器，但根本没用，因为只支持 PHP，当然买来也只是备案需要。

最近阿里云产品降价，但实际比较了下阿里云和腾讯云的价格，发现**降价后的阿里云还是比腾讯云要贵不少**。这里比较的是两家最低配云服务器（1核 CPU、1G内存、1M 公网带宽）的价格，阿里云 95 元，腾讯云 65 元，当然阿里云的云盘容量 40G，腾讯云 20G（40G 对我来说可能太多了）。

由于我的网站还是一个比较简单的，对计算资源要求不高，再加上腾讯云这边[给新用户提供的代金券](http://www.qcloud.com/event/newusergift)不少，因此我这次选择使用的是腾讯云 CVM。

![目前使用中的腾讯云服务产品](http://ww2.sinaimg.cn/large/801b780agw1f8vc3obiojj21kw0cwtab.jpg)
<small>目前使用中的腾讯云服务产品，图中的对象存储服务 COS 还没完全用起来，会逐步网站的静态文件传到 COS。</small>

## 系列提纲

接下来大约两周内，我会把这次迁移的大致过程记录下来，供大家参考。如果发现有不符合最优实践的做法，欢迎指正。

本系列可能会包含以下内容：

1. 云服务器配置
2. 搭建私有 Git 服务器
3. 数据库备份与恢复
4. Flask 应用环境配置
5. 其他云服务配置

***

## 赞助「编程派」

虽然关注 Python 编程的网站不少，但是感觉自己在 Python 的推广上面还是有那么一点贡献的：组织翻译了《Think Python 2e》，自己个人也翻译了大概近 100 篇 Python 教程，发起了 [PythonTG 翻译组](https://github.com/PythonTG/PythonTG)（专注 Python 的翻译小组）。

未来，希望能有更多的最新教程、最新书籍，甚至是最新视频。也希望能有更多的人参与到 PythonTG 翻译组中来。

如果你觉得我们做的这个事还不错，欢迎友情赞助。

![赞助「编程派」](http://ww1.sinaimg.cn/large/801b780agw1f8vd49fjktj206o06ogm1.jpg)



